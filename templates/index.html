{% extends "base.html" %}

{% block content %}
<section>
    <h1>Audio Player</h1>

    <div class="upload-form">
        <h2>Text to Speech</h2>
        <form action="/speak" method="get">
            <input type="text" name="sentence" placeholder="Enter a sentence" required>
            <button type="submit">Generate Audio</button>
        </form>
    </div>

    <div id="audio-container"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.has('audio')) {
            const audioFile = urlParams.get('audio');
            const container = document.getElementById('audio-container');
            container.innerHTML = `
                <div class="file-item">
                    <p>${audioFile}</p>
                    <audio controls>
                        <source src="/static/${audioFile}" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            `;
        }
    </script>
</section>
{% endblock %}
